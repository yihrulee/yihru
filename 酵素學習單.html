<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>é…µç´ æ´»æ€§å¯¦é©—æ•¸ä½å­¸ç¿’å–® (v2.0)</title>
<style>
  :root {
    --primary: #2c7744; /* è‡ªç„¶ç§‘é¢¨æ ¼ç¶ è‰² */
    --accent: #eafbea;
    --border: #ddd;
    --text: #333;
    --gap: 16px;
  }
  * { box-sizing: border-box; }
  body {
    font-family: "PingFang TC", "Noto Sans TC", "Microsoft JhengHei", system-ui, sans-serif;
    margin: 0; padding: 20px; line-height: 1.5; color: var(--text); background: #f9f9f9;
  }
  h1 { font-size: 22px; margin: 0 0 10px; color: var(--primary); text-align: center; }
  h2 { font-size: 18px; margin: 0 0 10px; border-left: 5px solid var(--primary); padding-left: 10px; }
  
  /* ç‰ˆé¢é…ç½® */
  .container { max-width: 1000px; margin: 0 auto; }
  .meta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-bottom: 20px; background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
  .meta-grid label { font-size: 14px; font-weight: bold; color: #555; }
  .meta-grid input { width: 100%; padding: 6px; border: 1px solid var(--border); border-radius: 4px; margin-top: 4px; }

  .row { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: var(--gap); }
  
  .card {
    background: #fff; border: 1px solid var(--border); border-radius: 8px; padding: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  /* è¡¨æ ¼æ¨£å¼ */
  .table-responsive { overflow-x: auto; }
  table { width: 100%; border-collapse: collapse; font-size: 14px; margin-bottom: 10px; }
  th, td { border: 1px solid var(--border); padding: 8px; text-align: center; }
  th { background: var(--accent); color: var(--primary); white-space: nowrap; }
  
  /* è¼¸å…¥æ¡†å„ªåŒ– */
  input[type="number"] {
    width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; text-align: center;
    font-size: 14px; -moz-appearance: textfield; /* Firefox remove spinner */
  }
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

  /* æŒ‰éˆ•ç¾¤çµ„ */
  .btn-group { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
  button {
    cursor: pointer; padding: 6px 12px; border: none; border-radius: 4px; 
    background: #eee; color: #333; font-size: 14px; transition: 0.2s;
  }
  button:hover { background: #ddd; }
  button.primary { background: var(--primary); color: #fff; }
  button.primary:hover { background: #236336; }
  button.danger { background: #fff1f0; color: #d93025; }
  
  /* ç•«å¸ƒ */
  canvas { width: 100%; height: 300px; border: 1px solid #ccc; border-radius: 4px; background: #fff; margin-top: 10px; }

  /* CER å€å¡Š */
  .cer-grid { display: grid; gap: 10px; }
  .cer-box label { font-weight: bold; display: block; margin-bottom: 5px; color: var(--primary); }
  textarea { width: 100%; height: 100px; padding: 8px; border: 1px solid var(--border); border-radius: 4px; resize: vertical; font-family: inherit; }

  /* æç¤ºæ–‡å­— */
  .hint { font-size: 13px; color: #666; background: #f0f0f0; padding: 8px; border-radius: 4px; margin-bottom: 10px; display: flex; gap: 10px; align-items: center; }
  .radio-group { display: flex; gap: 15px; align-items: center; }

  /* åˆ—å°è¨­å®š */
  @media print {
    @page { size: A4; margin: 10mm; }
    body { background: #fff; padding: 0; }
    .no-print { display: none !important; }
    .card { border: 1px solid #000; box-shadow: none; margin-bottom: 20px; break-inside: avoid; }
    h1 { font-size: 18px; margin-bottom: 5px; }
    input, textarea { border: none; border-bottom: 1px solid #ccc; resize: none; padding: 0; }
    canvas { height: 220px; }
    .row { display: block; } /* å¼·åˆ¶å–®æ¬„åˆ—å°ï¼Œé¿å…åœ–è¡¨è¢«åˆ‡æ–· */
    .card { width: 100%; margin-bottom: 15px; }
  }
</style>
</head>
<body>

<div class="container">
  <h1>é…µç´ æ´»æ€§æ¢ç©¶å¯¦é©—è¨˜éŒ„è¡¨</h1>
  
  <div class="meta-grid">
    <div><label>ç­ç´š</label><input type="text" id="cls"></div>
    <div><label>åº§è™Ÿ</label><input type="number" id="no"></div>
    <div><label>å§“å</label><input type="text" id="name"></div>
    <div><label>æ—¥æœŸ</label><input type="date" id="date"></div>
  </div>

  <div class="hint no-print">
    <strong>ğŸ’¡ è¨ˆç®—è¨­å®šï¼š</strong>
    <div class="radio-group">
      <label><input type="radio" name="calcMode" value="height" checked onchange="updateLabels()"> æ¸¬é‡æ³¡æ²«é«˜åº¦ (cm)</label>
      <label><input type="radio" name="calcMode" value="time" onchange="updateLabels()"> æ¸¬é‡åæ‡‰æ™‚é–“ (s)</label>
    </div>
    <span style="margin-left:auto; font-size:12px; color:#999;">é è¨­é™¤æ•¸ï¼šé«˜åº¦/30 æˆ– 1/æ™‚é–“</span>
  </div>

  <div class="row">
    <section class="card">
      <h2>å¯¦é©— Aï¼šæº«åº¦å°é…µç´ æ´»æ€§çš„å½±éŸ¿</h2>
      <div class="table-responsive">
        <table id="tableA">
          <thead>
            <tr>
              <th width="20%">æº«åº¦ (Â°C)</th>
              <th width="20%">è©¦æ¬¡ 1</th>
              <th width="20%">è©¦æ¬¡ 2</th>
              <th width="20%">å¹³å‡</th>
              <th width="20%">é€Ÿç‡</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><input type="number" value="10"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="30"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="50"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="70"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
          </tbody>
        </table>
      </div>
      <div class="btn-group no-print">
        <button onclick="addRow('tableA')">ï¼‹ å¢åŠ åˆ—</button>
        <button class="primary" onclick="processData('A')">è¨ˆç®—ä¸¦ç¹ªåœ–</button>
        <button class="danger" onclick="clearData('A')">æ¸…é™¤</button>
      </div>
      <canvas id="canvasA" width="800" height="500"></canvas>
    </section>

    <section class="card">
      <h2>å¯¦é©— Bï¼šé…¸é¹¼åº¦ (pH) å°é…µç´ æ´»æ€§çš„å½±éŸ¿</h2>
      <div class="table-responsive">
        <table id="tableB">
          <thead>
            <tr>
              <th width="20%">pH å€¼</th>
              <th width="20%">è©¦æ¬¡ 1</th>
              <th width="20%">è©¦æ¬¡ 2</th>
              <th width="20%">å¹³å‡</th>
              <th width="20%">é€Ÿç‡</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><input type="number" value="3"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="5"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="7"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
            <tr><td><input type="number" value="9"></td><td><input type="number" class="t1"></td><td><input type="number" class="t2"></td><td class="avg">-</td><td class="rate">-</td></tr>
          </tbody>
        </table>
      </div>
      <div class="btn-group no-print">
        <button onclick="addRow('tableB')">ï¼‹ å¢åŠ åˆ—</button>
        <button class="primary" onclick="processData('B')">è¨ˆç®—ä¸¦ç¹ªåœ–</button>
        <button class="danger" onclick="clearData('B')">æ¸…é™¤</button>
      </div>
      <canvas id="canvasB" width="800" height="500"></canvas>
    </section>
  </div>

  <section class="card" style="margin-top: 20px;">
    <h2>CER ç§‘å­¸è«–è­‰èˆ‡ç¸½çµ</h2>
    <div class="cer-grid">
      <div class="cer-box">
        <label>1. ä¸»å¼µ (Claim)</label>
        <textarea id="claim" placeholder="çµè«–ï¼šé…µç´ æ´»æ€§æœ€é«˜çš„æ¢ä»¶ç‚ºä½•ï¼Ÿï¼ˆè«‹å›ç­”æœ€é©æº«åº¦èˆ‡æœ€é© pHï¼‰"></textarea>
      </div>
      <div class="cer-box">
        <label>2. è­‰æ“š (Evidence)</label>
        <textarea id="evidence" placeholder="è«‹å¼•ç”¨åœ–è¡¨ä¸­çš„å…·é«”æ•¸æ“šæ”¯æŒä½ çš„ä¸»å¼µï¼ˆä¾‹å¦‚ï¼šåœ¨æº«åº¦ X åº¦æ™‚ï¼Œé€Ÿç‡é”åˆ°æœ€é«˜çš„ Y...ï¼‰ã€‚"></textarea>
      </div>
      <div class="cer-box">
        <label>3. æ¨ç† (Reasoning)</label>
        <textarea id="reasoning" placeholder="ç§‘å­¸åŸç†ï¼šç‚ºä»€éº¼è¶…éæœ€é©ç¯„åœå¾Œï¼Œåæ‡‰é€Ÿç‡æœƒä¸‹é™ï¼Ÿï¼ˆé—œéµå­—ï¼šè›‹ç™½è³ªçµæ§‹ã€è®Šæ€§ã€å‹•èƒ½ï¼‰"></textarea>
      </div>
    </div>
    
    <div class="btn-group no-print" style="margin-top:20px; border-top:1px solid #eee; padding-top:10px;">
      <button onclick="demoFill()">ğŸ§ª å¡«å…¥ç¤ºç¯„æ•¸æ“š (å‚™èª²ç”¨)</button>
      <button onclick="saveToLocal()">ğŸ’¾ æš«å­˜ (æœ¬æ©Ÿ)</button>
      <button onclick="loadFromLocal()">ğŸ“‚ è®€å–æš«å­˜</button>
      <button onclick="exportCSV()">ğŸ“Š åŒ¯å‡º CSV</button>
      <button class="primary" onclick="window.print()">ğŸ–¨ï¸ åˆ—å° / å­˜ç‚º PDF</button>
    </div>
  </section>
</div>

<script>
// åˆå§‹åŒ–è¨­å®š
document.getElementById('date').valueAsDate = new Date();

function updateLabels() {
  // åˆ‡æ›æ¨¡å¼æ™‚ä¸éœ€è¦é‡ç®—ï¼Œåƒ…æ”¹è®Šé‚è¼¯ï¼Œç­‰å¾…ç”¨æˆ¶é»æ“Šè¨ˆç®—
  const mode = document.querySelector('input[name="calcMode"]:checked').value;
  // å¯é¸ï¼šåœ¨æ­¤è™•å‹•æ…‹æ”¹è®Šè¡¨é ­æ–‡å­—ï¼Œç›®å‰ä¿æŒé€šç”¨ "è©¦æ¬¡" 
}

function addRow(tableId) {
  const tbody = document.querySelector(`#${tableId} tbody`);
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td><input type="number"></td>
    <td><input type="number" class="t1"></td>
    <td><input type="number" class="t2"></td>
    <td class="avg">-</td><td class="rate">-</td>
  `;
  tbody.appendChild(tr);
}

function processData(type) {
  const tableId = `table${type}`;
  const rows = document.querySelectorAll(`#${tableId} tbody tr`);
  const mode = document.querySelector('input[name="calcMode"]:checked').value;
  
  let dataPoints = [];

  rows.forEach(row => {
    const xVal = parseFloat(row.cells[0].querySelector('input').value);
    const t1 = parseFloat(row.cells[1].querySelector('input').value);
    const t2 = parseFloat(row.cells[2].querySelector('input').value);
    
    // è¨ˆç®—å¹³å‡
    let avg = null;
    let validCount = 0;
    let sum = 0;
    
    if(!isNaN(t1)) { sum += t1; validCount++; }
    if(!isNaN(t2)) { sum += t2; validCount++; }
    
    if (validCount > 0) {
      avg = sum / validCount;
      row.cells[3].textContent = avg.toFixed(2);
      
      // è¨ˆç®—é€Ÿç‡
      let rate = 0;
      if (mode === 'height') {
        // é€Ÿç‡ = é«˜åº¦ / 30ç§’
        rate = avg / 30;
      } else {
        // é€Ÿç‡ = 1 / æ™‚é–“ (è‹¥æ™‚é–“ç‚º0é˜²å‘†)
        rate = avg > 0 ? (1 / avg) : 0;
      }
      row.cells[4].textContent = rate.toFixed(4);
      
      if (!isNaN(xVal)) {
        dataPoints.push({ x: xVal, y: rate });
      }
    } else {
      row.cells[3].textContent = "-";
      row.cells[4].textContent = "-";
    }
  });

  // ç¹ªåœ–
  drawGraph(`canvas${type}`, dataPoints, type === 'A' ? 'æº«åº¦ (Â°C)' : 'pH å€¼');
}

function drawGraph(canvasId, data, xLabel) {
  const canvas = document.getElementById(canvasId);
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;
  const padding = { top: 40, right: 30, bottom: 60, left: 70 };

  // æ¸…é™¤ç•«å¸ƒ
  ctx.clearRect(0, 0, W, H);
  ctx.fillStyle = "#fff"; ctx.fillRect(0,0,W,H); // ç™½åº•

  // æ’åºæ•¸æ“š
  data.sort((a, b) => a.x - b.x);

  if (data.length === 0) {
    ctx.font = "20px sans-serif"; ctx.fillStyle = "#999"; ctx.textAlign = "center";
    ctx.fillText("è«‹è¼¸å…¥æ•¸æ“šä¸¦é»æ“Šè¨ˆç®—", W/2, H/2);
    return;
  }

  // è¨ˆç®—ç¯„åœ
  const xValues = data.map(d => d.x);
  const yValues = data.map(d => d.y);
  let xMin = Math.min(...xValues, 0); // è®“è»¸åŒ…å«0
  let xMax = Math.max(...xValues);
  let yMin = 0;
  let yMax = Math.max(...yValues);
  
  // è®“åœ–è¡¨æœ‰äº›é‚Šè·
  xMax = xMax + (xMax - xMin) * 0.1 || 10; 
  yMax = yMax * 1.2 || 1; // é ‚éƒ¨ç•™ç©º

  // åº§æ¨™è½‰æ›å‡½æ•¸
  const getX = (val) => padding.left + (val - xMin) / (xMax - xMin) * (W - padding.left - padding.right);
  const getY = (val) => H - padding.bottom - (val - yMin) / (yMax - yMin) * (H - padding.top - padding.bottom);

  // ç•«è»¸ç·š
  ctx.beginPath(); ctx.strokeStyle = "#333"; ctx.lineWidth = 2;
  ctx.moveTo(padding.left, padding.top);
  ctx.lineTo(padding.left, H - padding.bottom); // Yè»¸
  ctx.lineTo(W - padding.right, H - padding.bottom); // Xè»¸
  ctx.stroke();

  // è»¸æ¨™ç±¤
  ctx.fillStyle = "#000"; ctx.font = "16px sans-serif"; ctx.textAlign = "center";
  ctx.fillText(xLabel, padding.left + (W - padding.left - padding.right)/2, H - 15);
  
  ctx.save();
  ctx.translate(20, H/2); ctx.rotate(-Math.PI/2);
  ctx.fillText("åæ‡‰é€Ÿç‡ (ä»»æ„å–®ä½)", 0, 0);
  ctx.restore();

  // ç•«ç¶²æ ¼èˆ‡åˆ»åº¦ (ç°¡åŒ–ç‰ˆï¼šåƒ…ç•«æ•¸æ“šé»å°æ‡‰çš„åˆ»åº¦ï¼Œé¿å…å¤ªè¤‡é›œ)
  ctx.font = "12px sans-serif"; ctx.fillStyle = "#666"; ctx.strokeStyle = "#eee"; ctx.lineWidth = 1;
  
  // Xè»¸åˆ»åº¦
  for(let i=0; i<=5; i++){
      let val = xMin + (xMax-xMin)*(i/5);
      let x = getX(val);
      ctx.fillText(val.toFixed(0), x, H - padding.bottom + 20);
      ctx.beginPath(); ctx.moveTo(x, padding.top); ctx.lineTo(x, H - padding.bottom); ctx.stroke();
  }
  // Yè»¸åˆ»åº¦
  ctx.textAlign = "right";
  for(let i=0; i<=5; i++){
      let val = yMin + (yMax-yMin)*(i/5);
      let y = getY(val);
      ctx.fillText(val.toFixed(2), padding.left - 10, y + 5);
      ctx.beginPath(); ctx.moveTo(padding.left, y); ctx.lineTo(W - padding.right, y); ctx.stroke();
  }

  // ç•«æŠ˜ç·š
  ctx.beginPath(); ctx.strokeStyle = "#2c7744"; ctx.lineWidth = 3;
  data.forEach((d, i) => {
    if(i === 0) ctx.moveTo(getX(d.x), getY(d.y));
    else ctx.lineTo(getX(d.x), getY(d.y));
  });
  ctx.stroke();

  // ç•«æ•¸æ“šé»
  ctx.fillStyle = "#e04e39";
  data.forEach(d => {
    ctx.beginPath();
    ctx.arc(getX(d.x), getY(d.y), 6, 0, Math.PI * 2);
    ctx.fill();
  });
}

function clearData(type) {
  if(!confirm("ç¢ºå®šè¦æ¸…é™¤æ­¤å¯¦é©—çš„æ•¸æ“šå—ï¼Ÿ")) return;
  const inputs = document.querySelectorAll(`#table${type} input`);
  inputs.forEach(i => i.value = "");
  document.querySelectorAll(`#table${type} .avg, #table${type} .rate`).forEach(c => c.textContent = "-");
  const canvas = document.getElementById(`canvas${type}`);
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0,0,canvas.width, canvas.height);
}

// æœ¬æ©Ÿå„²å­˜åŠŸèƒ½
function saveToLocal() {
  const data = {
    meta: {
      cls: document.getElementById('cls').value,
      no: document.getElementById('no').value,
      name: document.getElementById('name').value,
      date: document.getElementById('date').value
    },
    tables: {
      A: getTableValues('tableA'),
      B: getTableValues('tableB')
    },
    cer: {
      claim: document.getElementById('claim').value,
      evidence: document.getElementById('evidence').value,
      reasoning: document.getElementById('reasoning').value
    }
  };
  localStorage.setItem('enzymeLabData', JSON.stringify(data));
  alert('è³‡æ–™å·²æš«å­˜åˆ°ç€è¦½å™¨ï¼');
}

function loadFromLocal() {
  const raw = localStorage.getItem('enzymeLabData');
  if(!raw) { alert('æ‰¾ä¸åˆ°æš«å­˜è³‡æ–™'); return; }
  const data = JSON.parse(raw);
  
  document.getElementById('cls').value = data.meta.cls || "";
  document.getElementById('no').value = data.meta.no || "";
  document.getElementById('name').value = data.meta.name || "";
  document.getElementById('date').value = data.meta.date || "";
  
  setTableValues('tableA', data.tables.A);
  setTableValues('tableB', data.tables.B);
  
  document.getElementById('claim').value = data.cer.claim || "";
  document.getElementById('evidence').value = data.cer.evidence || "";
  document.getElementById('reasoning').value = data.cer.reasoning || "";
  
  processData('A');
  processData('B');
}

function getTableValues(id) {
  return Array.from(document.querySelectorAll(`#${id} tbody tr`)).map(tr => ({
    col1: tr.cells[0].querySelector('input').value,
    t1: tr.cells[1].querySelector('input').value,
    t2: tr.cells[2].querySelector('input').value
  }));
}

function setTableValues(id, rows) {
  const tbody = document.querySelector(`#${id} tbody`);
  tbody.innerHTML = ''; // æ¸…ç©ºèˆŠçš„
  rows.forEach(r => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><input type="number" value="${r.col1}"></td>
      <td><input type="number" class="t1" value="${r.t1}"></td>
      <td><input type="number" class="t2" value="${r.t2}"></td>
      <td class="avg">-</td><td class="rate">-</td>
    `;
    tbody.appendChild(tr);
  });
}

function exportCSV() {
  let csv = "\uFEFF"; // BOM for Excel
  csv += "ç­ç´š,åº§è™Ÿ,å§“å,æ—¥æœŸ\n";
  csv += `${document.getElementById('cls').value},${document.getElementById('no').value},${document.getElementById('name').value},${document.getElementById('date').value}\n\n`;
  
  csv += "å¯¦é©—A (æº«åº¦)\næº«åº¦,è©¦æ¬¡1,è©¦æ¬¡2,å¹³å‡,é€Ÿç‡\n";
  document.querySelectorAll('#tableA tbody tr').forEach(r => {
    const txt = (idx) => r.cells[idx].querySelector('input') ? r.cells[idx].querySelector('input').value : r.cells[idx].textContent;
    csv += `${txt(0)},${txt(1)},${txt(2)},${r.cells[3].textContent},${r.cells[4].textContent}\n`;
  });

  csv += "\nå¯¦é©—B (pH)\npH,è©¦æ¬¡1,è©¦æ¬¡2,å¹³å‡,é€Ÿç‡\n";
  document.querySelectorAll('#tableB tbody tr').forEach(r => {
    const txt = (idx) => r.cells[idx].querySelector('input') ? r.cells[idx].querySelector('input').value : r.cells[idx].textContent;
    csv += `${txt(0)},${txt(1)},${txt(2)},${r.cells[3].textContent},${r.cells[4].textContent}\n`;
  });
  
  csv += `\nClaim,${document.getElementById('claim').value.replace(/,/g, 'ï¼Œ')}\n`;
  csv += `Evidence,${document.getElementById('evidence').value.replace(/,/g, 'ï¼Œ')}\n`;
  csv += `Reasoning,${document.getElementById('reasoning').value.replace(/,/g, 'ï¼Œ')}\n`;

  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "é…µç´ å¯¦é©—æ•¸æ“š.csv";
  link.click();
}

function demoFill() {
  // æ¨¡æ“¬æº«åº¦æ•¸æ“š (é˜å½¢æ›²ç·š)
  const dataA = [ {x:10, t1:5, t2:5.5}, {x:30, t1:12, t2:11}, {x:40, t1:18, t2:19}, {x:60, t1:2, t2:1} ];
  setTableValues('tableA', dataA.map(d=>({col1:d.x, t1:d.t1, t2:d.t2})));
  processData('A');
  
  // æ¨¡æ“¬pHæ•¸æ“š (é˜å½¢æ›²ç·š)
  const dataB = [ {x:3, t1:1, t2:1.5}, {x:5, t1:6, t2:7}, {x:7, t1:15, t2:14}, {x:9, t1:8, t2:8.5} ];
  setTableValues('tableB', dataB.map(d=>({col1:d.x, t1:d.t1, t2:d.t2})));
  processData('B');
}
</script>
</body>
</html>