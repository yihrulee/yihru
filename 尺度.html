<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿç‰©å°ºåº¦æ¢ç´¢ - äº’å‹•æ•™å­¸</title>
    
    <!-- å¼•å…¥ Tailwind CSS (æ¨£å¼åº«) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* è‡ªå®šç¾©æ¨£å¼è£œå…… */
        body { margin: 0; overflow: hidden; background-color: #000; }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #3b82f6;
            margin-top: -8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            border: 2px solid white;
        }
        input[type=range]::-webkit-slider-runnable-track {
            height: 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.5);
        }
        @keyframes bounce-in {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-bounce-in {
            animation: bounce-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ç°¡å–®çš„ SVG åœ–ç¤ºçµ„ä»¶ (å–ä»£ lucide-react) ---
        const IconSearch = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
        );
        const IconZoomIn = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/><line x1="11" x2="11" y1="8" y2="14"/><line x1="8" x2="14" y1="11" y2="11"/></svg>
        );
        const IconZoomOut = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/><line x1="8" x2="14" y1="11" y2="11"/></svg>
        );
        const IconX = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        );

        // --- è³‡æ–™åº« ---
        const SCALE_ITEMS = [
          // --- å®‡å®™å°ºåº¦ ---
          {
            power: 27.0,
            name: "å¯è§€æ¸¬å®‡å®™",
            icon: (
               <div className="w-full h-full rounded-full bg-black border border-slate-700 shadow-[0_0_50px_rgba(255,255,255,0.2)] flex items-center justify-center relative overflow-hidden">
                  <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(100,100,255,0.1),_transparent_70%)]"></div>
                  <div className="text-xs text-slate-500 text-center px-2">Cosmic Web</div>
               </div>
            ),
            type: "space",
            description: "ä»¥åœ°çƒç‚ºä¸­å¿ƒï¼Œç†è«–ä¸Šèƒ½è§€æ¸¬åˆ°çš„å®‡å®™ç¯„åœï¼Œç›´å¾‘ç´„ 930 å„„å…‰å¹´ã€‚"
          },
          {
            power: 24.0,
            name: "æœ¬æ˜Ÿç³»ç¾¤",
            icon: (
               <svg viewBox="0 0 100 100" className="w-full h-full text-purple-300 fill-current opacity-80">
                  <circle cx="40" cy="40" r="10" filter="blur(4px)" />
                  <circle cx="70" cy="60" r="8" filter="blur(4px)" />
                  <circle cx="20" cy="70" r="5" filter="blur(4px)" />
                  <circle cx="80" cy="20" r="4" filter="blur(3px)" />
               </svg>
            ),
            type: "space",
            description: "åŒ…å«éŠ€æ²³ç³»ã€ä»™å¥³åº§æ˜Ÿç³»ç­‰ 50 å¤šå€‹æ˜Ÿç³»çš„é‡åŠ›æŸç¸›é›†åˆï¼Œç›´å¾‘ç´„ 1000 è¬å…‰å¹´ã€‚"
          },
          {
            power: 21.0,
            name: "éŠ€æ²³ç³»",
            icon: "ğŸŒŒ",
            type: "space",
            description: "åŒ…å«å¤ªé™½ç³»çš„å·¨å¤§æ£’æ—‹æ˜Ÿç³»ï¼Œæ“æœ‰æ•¸åƒå„„é¡†æ†æ˜Ÿï¼Œç›´å¾‘ç´„ 10 è¬å…‰å¹´ã€‚"
          },
          {
            power: 15.9,
            name: "ä¸€å…‰å¹´",
            icon: (
                <div className="w-full h-full flex items-center justify-center text-yellow-100 font-serif italic text-[40px] drop-shadow-[0_0_10px_rgba(253,224,71,0.5)]">
                    1 ly
                </div>
            ),
            type: "space",
            description: "å…‰åœ¨çœŸç©ºä¸­è¡Œèµ°ä¸€å¹´çš„è·é›¢ï¼Œç´„ 9.46 å…†å…¬é‡Œã€‚"
          },
          {
            power: 13.0,
            name: "å¤ªé™½ç³»",
            icon: (
              <svg viewBox="0 0 200 200" className="w-full h-full text-blue-300 fill-none stroke-current opacity-60">
                 <circle cx="100" cy="100" r="2" fill="yellow" stroke="none" />
                 <ellipse cx="100" cy="100" rx="30" ry="20" strokeWidth="1" />
                 <ellipse cx="100" cy="100" rx="50" ry="35" strokeWidth="1" />
                 <ellipse cx="100" cy="100" rx="70" ry="50" strokeWidth="1" />
                 <ellipse cx="100" cy="100" rx="90" ry="65" strokeWidth="1" />
              </svg>
            ),
            type: "space",
            description: "ä»¥å¤ªé™½ç‚ºä¸­å¿ƒï¼ŒåŒ…å«å…«å¤§è¡Œæ˜Ÿçš„è¡Œæ˜Ÿç³»ï¼Œç¯„åœå»¶ä¼¸è‡³å¤æŸå¸¶ç´„ 100 å„„å…¬é‡Œã€‚"
          },
          {
            power: 11.2,
            name: "å¤©æ–‡å–®ä½ (AU)",
            icon: (
              <svg viewBox="0 0 200 50" className="w-full h-full text-white fill-none stroke-current opacity-80">
                <line x1="10" y1="25" x2="190" y2="25" strokeWidth="2" strokeDasharray="5,5" />
                <circle cx="10" cy="25" r="6" fill="#fbbf24" stroke="none" />
                <circle cx="190" cy="25" r="4" fill="#3b82f6" stroke="none" />
                <text x="100" y="15" textAnchor="middle" fill="white" fontSize="14" stroke="none" fontWeight="bold">1 AU</text>
              </svg>
            ),
            type: "space",
            description: "åœ°çƒåˆ°å¤ªé™½çš„å¹³å‡è·é›¢ï¼Œç´„ 1.5 å„„å…¬é‡Œï¼Œå¸¸ç”¨æ–¼æ¸¬é‡å¤ªé™½ç³»å…§è·é›¢ã€‚"
          },
          {
            power: 9.1,
            name: "å¤ªé™½",
            icon: (
              <svg viewBox="0 0 100 100" className="w-full h-full text-yellow-500 fill-current animate-pulse">
                 <circle cx="50" cy="50" r="40" className="fill-orange-400" />
                 <circle cx="50" cy="50" r="48" className="stroke-yellow-300 stroke-2 fill-none opacity-50" />
                 <path d="M50,0 L50,10 M50,90 L50,100 M0,50 L10,50 M90,50 L100,50 M15,15 L22,22 M78,78 L85,85 M15,85 L22,78 M78,22 L85,15" stroke="currentColor" strokeWidth="4" strokeLinecap="round" />
              </svg>
            ),
            type: "space",
            description: "å¤ªé™½ç³»çš„ä¸­å¿ƒæ†æ˜Ÿï¼Œç›´å¾‘ç´„ 140 è¬å…¬é‡Œï¼Œæ˜¯åœ°çƒç›´å¾‘çš„ 109 å€ã€‚"
          },
          {
            power: 8.1,
            name: "æœ¨æ˜Ÿ",
            icon: (
              <svg viewBox="0 0 100 100" className="w-full h-full text-orange-300 fill-current">
                <circle cx="50" cy="50" r="45" className="fill-[#d97706]" />
                <path d="M10,30 Q50,20 90,30" fill="none" stroke="#fcd34d" strokeWidth="3" opacity="0.5" />
                <path d="M5,50 Q50,40 95,50" fill="none" stroke="#78350f" strokeWidth="5" opacity="0.6" />
                <path d="M10,70 Q50,80 90,70" fill="none" stroke="#fcd34d" strokeWidth="3" opacity="0.5" />
                <circle cx="75" cy="65" r="6" fill="#7f1d1d" opacity="0.8" />
              </svg>
            ),
            type: "space",
            description: "å¤ªé™½ç³»æœ€å¤§çš„è¡Œæ˜Ÿï¼Œç›´å¾‘ç´„ 14 è¬å…¬é‡Œã€‚"
          },
          
          // --- æ—¢æœ‰å·¨è§€å°ºåº¦ ---
          {
            power: 7.2,
            name: "åœ°çƒ",
            icon: "ğŸŒ",
            type: "space",
            description: "æˆ‘å€‘å±…ä½çš„æ˜Ÿçƒï¼Œç›´å¾‘ç´„ 12,742 å…¬é‡Œã€‚"
          },
          {
            power: 5.6,
            name: "å°ç£",
            icon: (
              <svg viewBox="0 0 100 200" className="w-full h-full text-green-500 fill-current drop-shadow-lg">
                <path d="M45,10 C55,10 60,15 65,25 C70,40 80,60 75,80 C70,100 65,120 60,140 C55,160 50,180 45,190 C40,180 30,160 25,140 C20,110 25,80 30,50 C35,30 40,15 45,10 Z" />
              </svg>
            ),
            type: "macro",
            description: "ç¾éº—çš„å¯¶å³¶ï¼Œå—åŒ—é•·ç´„ 394 å…¬é‡Œã€‚"
          },
          {
            power: 3.7,
            name: "å°åŒ—101",
            icon: (
              <svg viewBox="0 0 100 200" className="w-full h-full text-emerald-600 fill-current drop-shadow-md">
                <rect x="30" y="160" width="40" height="40" />
                <path d="M20,160 L80,160 L75,140 L25,140 Z" />
                <path d="M22,140 L78,140 L73,120 L27,120 Z" />
                <path d="M24,120 L76,120 L71,100 L29,100 Z" />
                <path d="M26,100 L74,100 L69,80 L31,80 Z" />
                <path d="M28,80 L72,80 L67,60 L33,60 Z" />
                <rect x="45" y="10" width="10" height="50" />
              </svg>
            ),
            type: "macro",
            description: "å°ç£çš„åœ°æ¨™ï¼Œé«˜åº¦ç´„ 508 å…¬å°ºã€‚"
          },
          {
            power: 1.5,
            name: "è—é¯¨",
            icon: (
               <svg viewBox="0 0 100 50" className="w-full h-full text-blue-500 fill-current drop-shadow-lg">
                 <path d="M10,25 Q30,10 60,15 T95,25 L90,30 Q60,40 30,35 T10,25 Z" />
                 <path d="M65,15 Q75,5 85,15" fill="none" stroke="currentColor" strokeWidth="2" opacity="0.5" />
                 <circle cx="80" cy="22" r="1.5" fill="white" />
               </svg>
            ),
            type: "animal",
            description: "ä¸–ç•Œä¸Šæœ€å¤§çš„å‹•ç‰©ï¼Œé•·åº¦å¯é” 30 å…¬å°ºã€‚"
          },
          {
            power: 0.5,
            name: "é•·é ¸é¹¿",
            icon: "ğŸ¦’",
            type: "animal",
            description: "æœ€é«˜çš„é™¸ç”Ÿå‹•ç‰©ï¼Œèº«é«˜ç´„ 5 å…¬å°ºã€‚"
          },
          {
            power: 0,
            name: "åœ‹ä¸­ç”Ÿ",
            icon: "ğŸ§",
            type: "human",
            description: "èº«é«˜ç´„ 1.6 å…¬å°º (160 å…¬åˆ†)ã€‚"
          },
          
          // --- å¾®è§€å°ºåº¦ ---
          {
            power: -1.0,
            name: "é´•é³¥è›‹",
            icon: "ğŸ¥š",
            type: "animal",
            description: "ä¸–ç•Œä¸Šæœ€å¤§çš„ç´°èƒä¹‹ä¸€ï¼Œç›´å¾‘ç´„ 15 å…¬åˆ†ã€‚"
          },
          {
            power: -2.0,
            name: "ä¸€å…ƒç¡¬å¹£",
            icon: (
              <div className="w-full h-full rounded-full bg-yellow-600 border-4 border-yellow-500 flex items-center justify-center text-white font-bold text-[80px] shadow-lg">
                $1
              </div>
            ),
            type: "object",
            description: "ç›´å¾‘ç´„ 2 å…¬åˆ† (20 mm)ã€‚"
          },
          {
            power: -2.7,
            name: "å’–å•¡è±†",
            icon: "â˜•",
            type: "object",
            description: "é•·åº¦ç´„ 1 å…¬åˆ†ã€‚"
          },
          {
            power: -3.0,
            name: "èèŸ»",
            icon: "ğŸœ",
            type: "animal",
            description: "å·¥èŸ»é«”é•·ç´„ 3-5 æ¯«ç±³ (mm)ã€‚"
          },
          {
            power: -3.7,
            name: "è‰å±¥èŸ²",
            icon: (
                <svg viewBox="0 0 100 60" className="w-full h-full text-green-400 fill-current opacity-80 drop-shadow-sm">
                    <ellipse cx="50" cy="30" rx="45" ry="20" className="stroke-2 stroke-green-600" />
                    <circle cx="30" cy="30" r="5" className="fill-green-700" />
                    <path d="M10,30 Q30,10 50,30 T90,30" fill="none" stroke="green-600" strokeWidth="2" strokeDasharray="4 2" />
                </svg>
            ),
            type: "cell",
            description: "åŸç”Ÿå‹•ç‰©ï¼Œè‚‰çœ¼å‹‰å¼·å¯è¦‹ï¼Œç´„ 200 å¾®ç±³ã€‚"
          },
          {
            power: -4.0,
            name: "é ­é«®ç›´å¾‘",
            icon: "ğŸ’ˆ",
            type: "human",
            description: "äººé¡é ­é«®ç›´å¾‘ç´„ 100 å¾®ç±³ (Âµm)ã€‚"
          },
          {
            power: -4.3,
            name: "æ¤ç‰©ç´°èƒ",
            icon: (
               <div className="w-full h-full bg-green-200 border-4 border-green-600 rounded-sm grid grid-cols-2 gap-1 p-1">
                   <div className="bg-green-300 rounded-full w-full h-full col-span-2"></div>
               </div>
            ),
            type: "cell",
            description: "å«æœ‰ç´°èƒå£èˆ‡è‘‰ç¶ é«”ï¼Œç´„ 50 å¾®ç±³ã€‚"
          },
          {
            power: -5.0,
            name: "ç´…è¡€çƒ",
            icon: (
              <div className="w-full h-full rounded-full bg-red-500 shadow-[inset_0_0_20px_rgba(0,0,0,0.3)] border-2 border-red-600"></div>
            ),
            type: "cell",
            description: "é›™å‡¹åœ“ç›¤ç‹€ï¼Œç›´å¾‘ç´„ 7-8 å¾®ç±³ (Âµm)ã€‚"
          },
          {
            power: -5.7,
            name: "è‘‰ç¶ é«”",
            icon: "ğŸŸ¢",
            type: "organelle",
            description: "æ¤ç‰©é€²è¡Œå…‰åˆä½œç”¨çš„å ´æ‰€ï¼Œç´„ 5 å¾®ç±³ã€‚"
          },
          {
            power: -6.0,
            name: "å¤§è…¸æ¡¿èŒ",
            icon: (
              <svg viewBox="0 0 100 40" className="w-full h-full text-pink-400 fill-current">
                 <rect x="10" y="10" width="80" height="20" rx="10" />
                 <path d="M90,20 L100,20" stroke="currentColor" strokeWidth="2" />
                 <path d="M0,20 L10,20" stroke="currentColor" strokeWidth="2" />
              </svg>
            ),
            type: "bacteria",
            description: "è…¸é“å…§çš„å¸¸è¦‹ç´°èŒï¼Œé•·ç´„ 2 å¾®ç±³ã€‚"
          },
          {
            power: -6.5,
            name: "ç²’ç·šé«”",
            icon: (
                <svg viewBox="0 0 100 60" className="w-full h-full text-orange-400 fill-orange-200 stroke-orange-500 stroke-2">
                    <rect x="5" y="5" width="90" height="50" rx="25" />
                    <path d="M20,15 Q30,45 40,15 T60,15 T80,15" fill="none" strokeWidth="3" />
                </svg>
            ),
            type: "organelle",
            description: "ç´°èƒçš„ç™¼é›»å» ï¼Œå¤§å°ç´„ 1 å¾®ç±³ã€‚"
          },
          {
            power: -7.0,
            name: "æµæ„Ÿç—…æ¯’",
            icon: (
              <svg viewBox="0 0 100 100" className="w-full h-full text-purple-500 fill-purple-300">
                 <circle cx="50" cy="50" r="30" />
                 <path d="M50,20 L50,10 M50,80 L50,90 M20,50 L10,50 M80,50 L90,50 M29,29 L22,22 M71,71 L78,78 M29,71 L22,78 M71,29 L78,22" stroke="currentColor" strokeWidth="4" strokeLinecap="round" />
              </svg>
            ),
            type: "virus",
            description: "ç´„ 100 å¥ˆç±³ (nm)ï¼Œéœ€ç”¨é›»å­é¡¯å¾®é¡è§€å¯Ÿã€‚"
          },
          {
            power: -8.0,
            name: "DNA èºæ—‹",
            icon: "ğŸ§¬",
            type: "molecule",
            description: "ç”Ÿå‘½éºå‚³ç‰©è³ªï¼Œå¯¬åº¦ç´„ 2-3 å¥ˆç±³ã€‚"
          },
          {
            power: -9.0,
            name: "æ°´åˆ†å­",
            icon: (
                <div className="relative w-full h-full flex items-center justify-center">
                     <div className="absolute w-[60%] h-[60%] bg-blue-500 rounded-full z-10 top-[20%] left-[20%]"></div>
                     <div className="absolute w-[30%] h-[30%] bg-gray-300 rounded-full top-0 left-0"></div>
                     <div className="absolute w-[30%] h-[30%] bg-gray-300 rounded-full top-0 right-0"></div>
                </div>
            ),
            type: "molecule",
            description: "H2Oï¼Œç›´å¾‘ç´„ 0.3 å¥ˆç±³ã€‚"
          },
          {
            power: -10.0,
            name: "ç¢³åŸå­",
            icon: "âš›ï¸",
            type: "atom",
            description: "æ§‹æˆç”Ÿç‰©é«”çš„ä¸»è¦åŸå­ï¼Œç´„ 0.1 å¥ˆç±³ (1 åŸƒ)ã€‚"
          },
          {
            power: -14.0,
            name: "åŸå­æ ¸",
            icon: "ğŸ”´",
            type: "atom",
            description: "åŸå­çš„ä¸­å¿ƒï¼Œæ¥µå°æ¥µé‡ã€‚"
          }
        ];

        // è¼”åŠ©å‡½å¼ï¼šæ ¼å¼åŒ–ç§‘å­¸è¨˜è™Ÿ
        const formatPower = (pow) => {
          const rounded = Math.round(pow * 10) / 10;
          return (
            <span className="font-mono">
              10<sup>{rounded.toFixed(1)}</sup> m
            </span>
          );
        };

        // è¼”åŠ©å‡½å¼ï¼šå–å¾—å–®ä½æ¨™ç±¤
        const getUnitLabel = (power) => {
          if (power >= 21) return "ç™¾è¬å…‰å¹´ (Mly)";
          if (power >= 16) return "å…‰å¹´ (ly)";
          if (power >= 13) return "å¤©æ–‡å–®ä½ (AU)";
          if (power >= 3) return "å…¬é‡Œ (km)";
          if (power >= 0) return "å…¬å°º (m)";
          if (power >= -2) return "å…¬åˆ†/æ¯«ç±³ (cm/mm)";
          if (power >= -6) return "å¾®ç±³ (Âµm)";
          if (power >= -9) return "å¥ˆç±³ (nm)";
          return "çš®ç±³ (pm)";
        };

        // è¼”åŠ©å‡½å¼ï¼šå–å¾—èƒŒæ™¯é¡è‰²
        const getBackgroundColor = (power) => {
            if (power > 16) return "bg-black"; // æ·±ç©º
            if (power > 6) return "bg-slate-900"; // å¤ªç©º/å¤ªé™½ç³»
            if (power > 4) return "bg-blue-300"; // é«˜ç©º
            if (power > 1) return "bg-cyan-100"; // å·¨è§€ä¸–ç•Œ
            if (power > -3) return "bg-yellow-50"; // å°ç‰©ä»¶
            if (power > -6) return "bg-pink-50"; // ç´°èƒ (é«”æ¶²)
            if (power > -9) return "bg-indigo-950"; // åˆ†å­ (æš—è¦–é‡)
            return "bg-black"; // åŸå­
        };

        const App = () => {
          // èµ·å§‹å°ºåº¦ï¼šäººé¡ (0)
          const [zoom, setZoom] = useState(0); 
          const [selectedItem, setSelectedItem] = useState(null);
          const containerRef = useRef(null);

          // è™•ç†æ»¾è¼ªç¸®æ”¾
          useEffect(() => {
            const handleWheel = (e) => {
              // é˜²æ­¢ç¶²é é è¨­æ»¾å‹•
              e.preventDefault();
              const delta = e.deltaY * -0.005; // éˆæ•åº¦
              setZoom(prev => {
                const newZoom = prev + delta;
                // é™åˆ¶ç¸®æ”¾ç¯„åœ (-15 åˆ° 28)
                return Math.min(Math.max(newZoom, -15), 28);
              });
            };

            const container = containerRef.current;
            if (container) {
              container.addEventListener('wheel', handleWheel, { passive: false });
            }
            return () => {
              if (container) {
                container.removeEventListener('wheel', handleWheel);
              }
            };
          }, []);

          const handleSliderChange = (e) => {
            setZoom(parseFloat(e.target.value));
          };

          const currentBg = getBackgroundColor(zoom);
          const currentUnit = getUnitLabel(zoom);

          // æ ¹æ“šèƒŒæ™¯æ·±æ·ºæ±ºå®šæ–‡å­—é¡è‰²
          const isDarkBg = zoom > 6 || zoom < -8;
          const textColor = isDarkBg ? "text-white" : "text-slate-800";

          return (
            <div ref={containerRef} className={`w-full h-screen overflow-hidden transition-colors duration-1000 ${currentBg} flex flex-col relative select-none font-sans`}>
              
              {/* --- æŠ¬é ­é¡¯ç¤ºå™¨ (HUD) --- */}
              <div className={`absolute top-0 left-0 w-full p-4 z-20 flex justify-between items-start pointer-events-none`}>
                <div className="pointer-events-auto">
                     <h1 className={`text-3xl font-bold ${textColor} drop-shadow-md flex items-center gap-2`}>
                        <IconSearch />
                        ç”Ÿç‰©å°ºåº¦æ¢ç´¢
                     </h1>
                     <p className={`text-lg opacity-80 ${textColor}`}>
                        ç›®å‰å°ºåº¦: {formatPower(zoom)}
                     </p>
                     <div className={`inline-block px-3 py-1 rounded-full text-sm font-bold mt-2 ${isDarkBg ? 'bg-white/20 text-white' : 'bg-black/10 text-black'}`}>
                        {currentUnit}
                     </div>
                </div>
                
                <div className="pointer-events-auto bg-white/90 backdrop-blur rounded-xl p-4 shadow-xl max-w-xs transition-opacity duration-300">
                     <p className="text-sm text-slate-600 mb-2">ğŸ’¡ <b>æ“ä½œèªªæ˜</b></p>
                     <ul className="text-xs text-slate-500 list-disc pl-4 space-y-1">
                        <li>æ»¾å‹•æ»‘é¼ æ»¾è¼ªæˆ–æ‹–å‹•ä¸‹æ–¹æ»‘æ¡¿ä¾†ç¸®æ”¾ã€‚</li>
                        <li>é»æ“Šç•«é¢ä¸­çš„ç‰©é«”æŸ¥çœ‹è©³ç´°ä»‹ç´¹ã€‚</li>
                        <li>ç¯„åœï¼šå¾åŸå­æ ¸åˆ°å¯è§€æ¸¬å®‡å®™ï¼</li>
                     </ul>
                </div>
              </div>

              {/* --- ä¸»è¦è¦–çª— --- */}
              <div className="flex-1 relative flex items-center justify-center perspective-[1000px]">
                {/* æ¸²æŸ“ç‰©ä»¶ */}
                {SCALE_ITEMS.map((item, index) => {
                    // è¨ˆç®—å°ºåº¦å·®ç•°
                    const diff = item.power - zoom;
                    
                    // å¯è¦‹åº¦é–¾å€¼ï¼šåªæ¸²æŸ“åœ¨åˆç†ç¯„åœå…§çš„ç‰©ä»¶
                    if (diff > 4 || diff < -4) return null;

                    // è¦–è¦ºæ¯”ä¾‹è¨ˆç®—
                    const baseSize = 250; 
                    const visualScale = Math.pow(2.5, diff); 
                    const pixelSize = baseSize * visualScale;

                    let opacity = 1;

                    // è®Šå°æ·¡å‡º (diff < -1.5)
                    if (diff < -1.5) opacity = Math.max(0, 1 + (diff + 1.5)); 
                    
                    // **è®Šå¤§æ·¡å‡ºå„ªåŒ–** (é˜²æ­¢æ“‹ä½è¦–ç·š)
                    if (diff > 0.8) opacity = Math.max(0, 1 - (diff - 0.8) / 1.0); 

                    // ä¸æ¸²æŸ“çœ‹ä¸è¦‹çš„ç‰©ä»¶
                    if (opacity <= 0.01) return null;

                    // Z-Index åˆ†å±¤
                    let zIndex = Math.round(100 - Math.abs(diff) * 10);

                    // æŒ‡æ¨™äº‹ä»¶ï¼šé¿å…èƒŒæ™¯é¬¼å½±æ“‹ä½é»æ“Š
                    const pointerEvents = opacity < 0.5 ? 'pointer-events-none' : 'pointer-events-auto';

                    // åç§»è¨ˆç®—ï¼šå¤§çš„ç‰©ä»¶ç¨å¾®ç½®ä¸­ï¼Œå°çš„ç‰©ä»¶éš¨æ©Ÿåç§»
                    const offsetMultiplier = (diff > 1) ? 5 : 20; 

                    return (
                        <div 
                            key={item.name}
                            className={`absolute transform transition-transform duration-75 cursor-pointer flex flex-col items-center justify-center hover:scale-110 active:scale-95 group ${pointerEvents}`}
                            style={{
                                width: `${pixelSize}px`,
                                height: `${pixelSize}px`,
                                opacity: opacity,
                                zIndex: zIndex,
                                transform: `translate(${Math.sin(index) * offsetMultiplier}%, ${Math.cos(index) * offsetMultiplier}%)` 
                            }}
                            onClick={() => setSelectedItem(item)}
                        >
                            <div className="relative w-full h-full flex items-center justify-center drop-shadow-2xl">
                                 {/* æ¸²æŸ“åœ–ç¤º */}
                                 {typeof item.icon === 'string' ? (
                                     <span className="flex items-center justify-center w-full h-full leading-none" style={{fontSize: `${pixelSize * 0.7}px`}}>
                                         {item.icon}
                                     </span>
                                 ) : (
                                     <div className="w-[80%] h-[80%]">
                                        {item.icon}
                                     </div>
                                 )}
                            </div>
                            
                            {/* æ¨™ç±¤ (åªåœ¨é©ç•¶å¤§å°æ™‚é¡¯ç¤º) */}
                            {opacity > 0.4 && (
                                <div className={`mt-2 px-3 py-1 rounded-full bg-white/80 backdrop-blur-sm shadow-sm text-center transition-all ${Math.abs(diff) < 0.5 ? 'scale-110 font-bold border-2 border-blue-400' : 'scale-90 opacity-80'}`}>
                                    <span className="text-slate-800 whitespace-nowrap text-sm sm:text-base">{item.name}</span>
                                    <div className="text-[10px] text-slate-500 font-mono">10<sup>{item.power}</sup> m</div>
                                </div>
                            )}
                        </div>
                    );
                })}

                {/* ä¸­å¿ƒåå­—æº–æ˜Ÿ (è£é£¾ç”¨) */}
                <div className={`absolute w-8 h-8 border border-dashed rounded-full pointer-events-none opacity-30 ${isDarkBg ? 'border-white' : 'border-black'}`}></div>
              </div>

              {/* --- åº•éƒ¨æ§åˆ¶åˆ— --- */}
              <div className="h-24 bg-white/10 backdrop-blur-md border-t border-white/20 flex flex-col items-center justify-center p-4 relative z-30">
                <div className="flex items-center gap-4 w-full max-w-2xl">
                    <IconZoomOut className={isDarkBg ? "text-white" : "text-slate-700"} />
                    <input 
                        type="range" 
                        min="-15" 
                        max="28" 
                        step="0.1" 
                        value={zoom}
                        onChange={handleSliderChange}
                        className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 hover:accent-blue-400 transition-all"
                    />
                    <IconZoomIn className={isDarkBg ? "text-white" : "text-slate-700"} />
                </div>
                <div className={`flex justify-between w-full max-w-2xl text-[10px] uppercase font-bold mt-1 ${isDarkBg ? 'text-white/50' : 'text-black/40'}`}>
                    <span>åŸå­</span>
                    <span>ç´°èƒ</span>
                    <span>äººé¡</span>
                    <span>åœ°çƒ</span>
                    <span>å¤ªé™½ç³»</span>
                    <span>éŠ€æ²³</span>
                    <span>å®‡å®™</span>
                </div>
              </div>

              {/* --- è©³ç´°è³‡è¨Šå¡ç‰‡ --- */}
              {selectedItem && (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm" onClick={() => setSelectedItem(null)}>
                    <div className="bg-white rounded-2xl shadow-2xl p-6 max-w-sm w-full relative animate-bounce-in" onClick={e => e.stopPropagation()}>
                        <button 
                            onClick={() => setSelectedItem(null)}
                            className="absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 transition-colors"
                        >
                            <IconX className="text-gray-500" />
                        </button>
                        
                        <div className="flex flex-col items-center">
                            <div className="w-32 h-32 flex items-center justify-center text-6xl mb-4 bg-blue-50 rounded-full border-4 border-blue-100 overflow-hidden relative">
                                <div className="absolute inset-0 bg-slate-100 z-0"></div>
                                <div className="z-10 w-24 h-24 flex items-center justify-center">
                                    {typeof selectedItem.icon === 'string' ? selectedItem.icon : (
                                        <div className="w-full h-full">{selectedItem.icon}</div>
                                    )}
                                </div>
                            </div>
                            <h2 className="text-2xl font-bold text-slate-800 mb-1">{selectedItem.name}</h2>
                            <div className="text-blue-500 font-mono font-bold bg-blue-50 px-3 py-1 rounded-full text-sm mb-4">
                                å¤§å°ç´„ 10<sup>{selectedItem.power}</sup> m
                            </div>
                            <p className="text-slate-600 text-center leading-relaxed">
                                {selectedItem.description}
                            </p>
                            
                            <button 
                                onClick={() => setSelectedItem(null)}
                                className="mt-6 w-full py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-bold transition-colors"
                            >
                                çŸ¥é“äº†ï¼
                            </button>
                        </div>
                    </div>
                </div>
              )}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>